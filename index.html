<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EDUARDO MEJÍA // SISTEMA NERVIOSO MUSICAL</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --terra-main: #764518;
      --crema-main: #ffedd2;
      --vinilo-bord: #42301f;
      --bordo-dark: #4a2321;
      --beige-light: #f7f2e5;
      --madera: #DFBA7B;
      --gold-warm: #D1A94B;
      --neon-red: #b51219;
      --gray-vin: #32303c;
      --ori-shadow: 0 2px 28px #b115018a;
    }
    body {
      background: linear-gradient(140deg, var(--beige-light) 0%, #eddebf 100%);
      color: var(--vinilo-bord);
      font-family: 'Courier New', monospace;
      margin: 0; padding: 0; min-height: 100vh;
    }
    .container {
      max-width: 740px;
      margin: 0 auto;
      padding: 50px 5vw 18px 5vw;
    }
    .spacer-top { height: 25px; }

    /* HERO */
    .section-1 {
      background: var(--crema-main);
      border-radius: 28px;
      box-shadow: 0 6px 32px #cf805511, 0 1px 28px #e6d3ae39;
      padding: 37px 17px 33px 17px;
      margin-bottom: 50px;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      position: relative;
    }
    .main-title {
      font-size: 2rem;
      font-weight: bold;
      letter-spacing: 0.14em;
      margin-bottom: 14px;
      color: var(--bordo-dark);
      background: none !important;
      text-transform: uppercase;
      text-align: center;
      font-family: 'Arial Black', Arial, sans-serif;
    }
    .subtitle {
      color: var(--terra-main);
      font-size: 1.08rem;
      margin-bottom: 13px;
      text-transform: uppercase;
      letter-spacing: 0.09em;
      text-align:center;
      font-family: inherit;
    }
    .description {
      color: var(--bordo-dark);
      font-size: 1rem;
      text-align: center;
      margin-bottom: 18px;
      font-family: 'Courier New', Courier, monospace;
      line-height: 1.5;
      background: none !important;
      letter-spacing:.02em;
    }
    /* DECK */
    .deck-box {
      display: flex; align-items: center; justify-content: center; gap: 44px; margin-top: 18px;
      width: 100%;
      flex-wrap: wrap;
    }
    .vinyl-module { display: flex; flex-direction: column; align-items: center; gap: 5px;}
    .hologram-turntable {
      width: 140px; height: 140px; border-radius: 50%;
      background: radial-gradient(ellipse at 62% 58%, #e9d2af 60%, #b08e57 99%, var(--madera) 100%);
      border: 10px solid var(--vinilo-bord);
      box-shadow: 0 0 57px #421d008a,2px 2px 38px #b582388e inset;
      position: relative; display: flex; align-items: center; justify-content: center;
      margin-bottom: 4px;
    }
    .quantum-vinyl {
      width: 100px; height: 100px; border-radius: 50%;
      background: radial-gradient(var(--gray-vin) 86%, #4c354d 100%);
      box-shadow: 0 2px 9px #2c11217c;
      animation: quantumSpin 15s linear infinite;
      animation-play-state: paused;
      position: relative;
      z-index: 2;
    }
    .vinyl-logo {
      position: absolute; left: 50%; top: 50%; width: 39px; height: 39px;
      transform:translate(-50%,-50%);
      filter: drop-shadow(1px 1px 4px #0003);
    }
    @keyframes quantumSpin { 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }
    /* Botones analógicos */
    .music-deck-eq {
      display: flex; flex-direction: column; align-items: flex-start; gap: 13px; }
    .vu-row {
      display:flex;align-items:center;gap:10px; margin-bottom:5px;
    }
    .vu-meter {
      width: 110px; height: 23px; background: #e7ccaa; border-radius: 8px; box-shadow:inset 0 0 9px #b08a4a66;
      display: flex; align-items: flex-end; overflow: hidden; border: 2px solid #bc9860;
    }
    .vu-bar {
      height:100%; width:13px; border-radius:4px 4px 2px 2px;
      background: linear-gradient(180deg, #ed1c24 0%, #FAA81D 48%, #FBEDB8 100%);
      margin-right:3px; transition:height .12s;
      box-shadow: 0 1px 5px #f2a46222;
      opacity: .75;
    }
    .player-controls2 {
      display: flex; align-items: center; justify-content: left; gap: 18px;
      margin-left: 0; margin-top:10px;
    }
    .round-btn {
      width: 45px; height: 45px; border-radius: 50%;
      background: radial-gradient(circle at 62% 48%,#fff8e3 70%, #d3b68c 100%);
      border: 2.5px solid #b08e57;
      box-shadow: 0 3px 15px #cf805585, 0 1px 2px #66490f55;
      display: flex; align-items: center; justify-content: center;
      font-size:1.25rem; color:#4a2321;
      transition: box-shadow .15s, border-color .26s, transform .14s;
      cursor: pointer;
      position:relative;
    }
    .round-btn:active {
      box-shadow: 0 1px 7px #b08e5740 inset,0 1px 5px #4a230f22;
      border-color: var(--neon-red);
      transform: scale(0.97);
    }
    .round-btn.glow { box-shadow: 0 0 18px #fbde69,0 1px 11px #ebb53f99; border-color: #e6b741;}
    .audio-track-label {
      font-size: .99em; color: var(--bordo-dark); font-family: inherit; margin-left: 14px; background: #ffe; padding: 2px 13px; border-radius:7px; box-shadow:0 1.5px 6px #be7d1e1d;
      letter-spacing:.8px;
    }
    /* Servicios */
    .section-services { background: #f5e6d199; border-radius:16px; margin: 35px 0 35px 0; padding:27px 13px;}
    .services-title { color: var(--bordo-dark); font-size:1.05rem; font-weight:700; letter-spacing:1.4px; text-transform:uppercase; margin-bottom:16px; }
    .services-grid{ display:grid;grid-template-columns:repeat(3,1fr);gap:17px;max-width:830px;margin:0 auto;}
    .service-card{ background: #fffbed; border:2px solid #c8ae8d; border-radius:13px; box-shadow:0 3.5px 13px #dfba7b21; padding:27px 8px 17px 8px; transition: box-shadow .15s, border-color .17s;}
    .service-card:hover{ border-color: var(--gold-warm); box-shadow:0 1.5px 12px #e9c15555;}
    .service-header{ display:flex;align-items:center;justify-content:center;gap:12px;margin-bottom:12px;}
    .service-icon{ color: var(--bordo-dark); font-size:2.1rem; }
    .service-name{ font-size:.98rem; font-weight:bold; color: var(--terra-main); text-transform:uppercase; letter-spacing:.6px;}
    .service-desc{ color:#8e6a3a; line-height:1.4; font-size: .96rem;}
    @media (max-width:800px){.services-grid{grid-template-columns:1fr;}}
    /* Videos */
    .section-2{ margin-bottom:38px;}
    .video-player-frame{display:flex;justify-content:center;align-items:center;background:#efe0c9;border-radius:12px;border:2px solid #bc9860;margin:0 auto 0 auto;box-shadow:0 4px 18px #edc29922;max-width:750px;overflow:hidden;min-height:170px;}
    .video-title{ color:#764518;text-align:center;font-size:1.01rem; margin:10px 0 9px 0; min-height:24px;letter-spacing:.9px;}
    .miniaturenav{ display:flex;justify-content:center;}
    .video-thumbs{ display: flex; gap: 16px; margin: 0 auto 8px auto; flex-wrap: wrap; justify-content: center; }
    .video-thumb{ width:49px;height:31px;border-radius:4px;border:2px solid #d1a94b;overflow:hidden;cursor:pointer;transition:border-color .16s,box-shadow .12s;opacity:.8;box-shadow:0 0 8px #d6c26622;}
    .video-thumb.active{ border-color: #b51219; opacity:1; box-shadow:0 1.5px 11px #cf805590;}
    .video-thumb img{ width:100%;height:100%;object-fit:cover;display:block;}
    .video-dots{ display: flex; gap: 7px; align-items: center; justify-content: center; margin-bottom: 3px;}
    .video-dot{ width: 10px; height: 10px; border-radius: 50%; background:#edbe6b; border:2px solid #a17037; cursor:pointer; transition:background .16s,border-color .15s;}
    .video-dot.active{ background: #b51219; border-color:#a74b53;}
    /* Contacto */
    .section-3{ margin-top:19px; background: #f2e3c57e; border-radius:9px; padding:24px 0 22px 0;}
    .contact-grid{ display:grid; grid-template-columns:repeat(3,1fr); gap:12px; max-width:640px; margin:0 auto;}
    .contact-port{ padding:17px; background: #f9efe1; border:1px solid #dab382; border-radius:6px; text-align:center; text-decoration:none; color:#6b3f26; transition:all 0.21s; text-transform:uppercase; font-family:inherit; font-weight:600; font-size:.98em; letter-spacing:.92px;}
    .contact-port:hover{ border-color:#d1a94b; background: #f7dcba;}
    .port-primary{ background: var(--terra-main); border-color: var(--terra-main); color:#fff2c9;}
    .port-primary:hover{ background: transparent; color:var(--terra-main);}
    .footer{ margin-top:10px;text-align:center;color:#91633a99;font-size:.97em;letter-spacing:.69px;}
    .whatsapp-float{ position:fixed;bottom:20px;right:20px;background:#ffac2a;color:white;width:60px;height:60px;border-radius:50%;display:flex;align-items:center;justify-content:center;text-decoration:none;box-shadow:0 4px 20px #be7e221a;z-index:1000;animation:float 3s ease-in-out infinite;}
    @keyframes float{0%,100%{transform:translateY(0);}50%{transform:translateY(-7px);}}
    @media(max-width: 990px){.container{padding-left:1vw;padding-right:1vw;}.section-1{padding:19px 3vw 15px 3vw;}.section-services, .section-2, .section-3{padding-left:3vw !important;padding-right:3vw !important;}}
    @media(max-width:800px){ .deck-box{flex-direction:column; gap:16px;} .music-deck-eq{align-items:center;} }
    @media(max-width:620px){.contact-grid{grid-template-columns:1fr;}}
  </style>
</head>
<body>
  <div class="spacer-top"></div>
  <div class="container">

    <section class="section-1">
      <h1 class="main-title">EDUARDO MEJÍA // SISTEMA NERVIOSO MUSICAL</h1>
      <div class="subtitle">DONDE EL VINILO Y EL CABLE DAN ALMA AL FUTURO</div>
      <div class="description">
        Siente la calidez del groove.<br> Dale play, relájate, siente el toque Detroit y post-punk filtrado por alma analógica.<br>
        <span style="font-weight:bold;color:#B05510;">Esto es más que música, es espacio, emoción y memoria eléctrica.</span>
      </div>
      <div class="deck-box">
        <div class="vinyl-module">
          <div class="hologram-turntable" id="turntable">
            <div class="quantum-vinyl" id="vinyl">
              <img src="logo.svg" alt="logo" class="vinyl-logo">
            </div>
          </div>
        </div>
        <div class="music-deck-eq">
          <!-- VU-METER minimal soulful -->
          <div id="vuRow" class="vu-row">
            <div class="vu-meter" id="vuMeter">
              <div class="vu-bar"></div><div class="vu-bar"></div><div class="vu-bar"></div>
              <div class="vu-bar"></div><div class="vu-bar"></div><div class="vu-bar"></div>
              <div class="vu-bar"></div><div class="vu-bar"></div>
            </div>
            <span class="audio-track-label" id="audioTrackLabel">track 1/5</span>
          </div>
          <div class="player-controls2">
            <button class="round-btn" id="backSong" aria-label="Pista anterior"><i class="fas fa-backward"></i></button>
            <button class="round-btn" id="playBtn" aria-label="Play"><i class="fas fa-play"></i></button>
            <button class="round-btn" id="stopBtn" aria-label="Stop"><i class="fas fa-stop"></i></button>
            <button class="round-btn" id="nextSong" aria-label="Siguiente pista"><i class="fas fa-forward"></i></button>
          </div>
        </div>
      </div>
      <audio id="localAudio">
        <source id="audioSource" src="micancion.mp3" type="audio/mpeg">
        Tu navegador no soporta el elemento audio.
      </audio>
      <div class="stream-player" style="max-width:400px;margin:18px auto 0 auto;">
        <iframe style="border-radius:7px;border:none;width:100%;" id="spotifyFrame" src="https://open.spotify.com/embed/playlist/26qaG2E3bW6ZNIk5mvPpjr?utm_source=generator" height="84" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
      </div>
    </section>

    <section class="section-services">
      <div class="services-title">Servicios</div>
      <div class="services-grid">
        <div class="service-card">
          <div class="service-header">
            <span class="service-icon"><i class="fas fa-route"></i></span>
            <span class="service-name">BOOKING & TOURS</span>
          </div>
          <p class="service-desc">
            Circuitos de performance y gestión neuronal de giras internacionales.
          </p>
        </div>
        <div class="service-card">
          <div class="service-header">
            <span class="service-icon"><i class="fas fa-network-wired"></i></span>
            <span class="service-name">DIGITAL FLOW</span>
          </div>
          <p class="service-desc">
            Estrategias multiplataforma y desarrollo de ecosistemas digitales.
          </p>
        </div>
        <div class="service-card">
          <div class="service-header">
            <span class="service-icon"><i class="fas fa-wave-square"></i></span>
            <span class="service-name">SYNTH STRATEGY</span>
          </div>
          <p class="service-desc">
            Arquitectura de sonido y frameworks estratégicos para artistas.
          </p>
        </div>
      </div>
    </section>

    <section class="section-2">
      <div class="video-player-frame">
        <iframe id="singleVideo" width="100%" height="320" src="https://www.youtube.com/embed/ZGxSXchZNfo?modestbranding=1&rel=0" frameborder="0" allowfullscreen></iframe>
      </div>
      <div id="videoTitle" class="video-title"></div>
      <div class="miniaturenav">
        <div id="videoThumbs" class="video-thumbs"></div>
      </div>
      <div id="videoDots" class="video-dots"></div>
    </section>

    <section class="section-3">
      <div class="contact-grid">
        <a href="mailto:emc121091@me.com?subject=PROYECTO MUSICAL" class="contact-port port-primary">INICIAR PROYECTO</a>
        <a href="https://edumecar.github.io/Book/" target="_blank" class="contact-port">PLANES BOOKING</a>
        <a href="https://www.linkedin.com/in/edumecar" target="_blank" class="contact-port">LINKEDIN</a>
      </div>
    </section>
    <div class="footer">
      Portfolio de Eduardo Mejía – Soul, groove, booking, ideas eléctricas, futuro analógico.
    </div>
  </div>
  <a href="https://wa.me/525512478139?text=Hi,%20I%20saw%20your%20portfolio%20and%20would%20like%20to%20discuss%20a%20music%20project." class="whatsapp-float" target="_blank">
    <i class="fab fa-whatsapp" style="font-size: 1.7rem;"></i>
  </a>
  <script>
    // ---- MUSIC CONTROL ----
    let currentTrack = 1, totalTracks = 5;
    const audio = document.getElementById('localAudio');
    const audioSource = document.getElementById('audioSource');
    const playBtn = document.getElementById('playBtn');
    const stopBtn = document.getElementById('stopBtn');
    const backSong = document.getElementById('backSong');
    const nextSong = document.getElementById('nextSong');
    const vinyl = document.getElementById('vinyl');
    const turntable = document.getElementById('turntable');
    const audioTrackLabel = document.getElementById('audioTrackLabel');
    function updateTrackLabel() {
      audioTrackLabel.textContent = `track ${currentTrack}/5`;
    }
    function setTrack(num) {
      if(num<1) num = totalTracks;
      if(num>totalTracks) num = 1;
      currentTrack = num;
      audio.pause(); audio.currentTime=0;
      vinyl.style.animationPlayState='paused';
      audioSource.src = `micancion${currentTrack===1?"":currentTrack}.mp3`;
      audio.load();
      updateTrackLabel();
    }
    backSong.onclick = ()=>{ setTrack(currentTrack-1);}
    nextSong.onclick = ()=>{ setTrack(currentTrack+1);}
    setTrack(1);

    // -- VU METER
    let vuLoop = null; let audioCtx, analyser, src, dataArray;
    const vuBars = document.querySelectorAll('.vu-bar');
    function setupVU(){
      audioCtx = new (window.AudioContext||window.webkitAudioContext)();
      src = audioCtx.createMediaElementSource(audio);
      analyser = audioCtx.createAnalyser();
      src.connect(analyser); analyser.connect(audioCtx.destination);
      analyser.fftSize = 32;
      dataArray = new Uint8Array(analyser.frequencyBinCount);
    }
    function animateVU(){
      analyser.getByteFrequencyData(dataArray);
      for(let i=0;i<vuBars.length;i++){
        let value = (dataArray[i]||4)/2.1+8;
        vuBars[i].style.height = value+"px";
        vuBars[i].style.opacity = 0.7+0.3*Math.random();
      }
      vuLoop = requestAnimationFrame(animateVU);
    }
    playBtn.onclick = ()=>{
      if(!audioCtx){ setupVU(); }
      audio.play();
      vinyl.style.animationPlayState='running';
      turntable.style.borderColor='#be852e';
      playBtn.classList.add("glow");
      animateVU();
    };
    stopBtn.onclick = ()=>{
      audio.pause(); audio.currentTime=0;
      vinyl.style.animationPlayState='paused';
      turntable.style.borderColor='#42301f';
      playBtn.classList.remove("glow");
      if(vuLoop) cancelAnimationFrame(vuLoop);
      vuBars.forEach(el => el.style.height='16px');
    };

    // ---- VIDEO CONTROLS
    const videos = [
      {id: "ZGxSXchZNfo", title: "Boiler Room 1"},
      {id: "SD3T_Or_mvk", title: "Tra Tra Live"},
      {id: "XCW95zjBUK4", title: "Gats Set"},
      {id: "fIbo4pFaNgQ", title: "Detroit Flow"},
      {id: "K6ACbb5p2A0", title: "Roland Jam"},
      {id: "2Vv-BfVoq4g", title: "Punk Session"},
      {id: "oHg5SJYRHA0", title: "Vinyl Routine"},
      {id: "kXYiU_JCYtU", title: "Engl Synth"}
    ];
    let vidIndex = 0;
    const singleVideo = document.getElementById('singleVideo');
    const videoTitle = document.getElementById('videoTitle');
    const thumbsContainer = document.getElementById('videoThumbs');
    const dotsContainer = document.getElementById('videoDots');
    function renderThumbs() {
      thumbsContainer.innerHTML = '';
      videos.forEach((v,i) => {
        const thumb = document.createElement('div');
        thumb.className = 'video-thumb' + (i===vidIndex ? ' active':''); thumb.title = v.title;
        thumb.innerHTML = `<img src="https://img.youtube.com/vi/${v.id}/hqdefault.jpg" alt="">`;
        thumb.onclick = ()=>{ vidIndex = i; updateVideo(); };
        thumbsContainer.appendChild(thumb);
      });
    }
    function renderDots() {
      dotsContainer.innerHTML = '';
      videos.forEach((v,i)=>{
        const dot = document.createElement('div');
        dot.className = 'video-dot' + (i===vidIndex ? ' active':''); dot.title = v.title;
        dot.onclick = ()=>{ vidIndex=i; updateVideo(); };
        dotsContainer.appendChild(dot);
      });
    }
    function updateVideo() {
      singleVideo.src = `https://www.youtube.com/embed/${videos[vidIndex].id}?modestbranding=1&rel=0&autoplay=1`;
      videoTitle.textContent = videos[vidIndex].title;
      renderThumbs(); renderDots();
    }
    renderThumbs(); renderDots(); updateVideo();
  </script>
</body>
</html>
