<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EDUARDO MEJÍA // SISTEMA NERVIOSO MUSICAL</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --roland-core: #CC0000;
      --digital-cyan: #00FFFF;
      --glitch-magenta: #FF00FF;
      --orange-roland: #FF6600;
      --black-absolute: #090A12;
      --gray-dark: #181929;
      --gray-soft: #232440;
      --white-soft: #F7FAFF;
      --contact-bg: #15192C;
    }
    body { background: var(--black-absolute); color: var(--white-soft); font-family: 'Courier New', monospace; margin: 0; padding: 0; min-height: 100vh;}
    .container { max-width: 1380px; margin: 0 auto; padding: 42px 32px 22px 32px;}
    @media (max-width:1400px) {.container{padding-left:2vw;padding-right:2vw;}}
    /* HERO 2-columnas */
    .hero-grid {
      display: grid; grid-template-columns: 1.1fr 1.4fr; gap: 60px; align-items: center;
      background: var(--gray-soft); border-radius: 28px;
      box-shadow: 0 7px 56px #00e9a826, 0 1px 32px #443bff16;
      margin-bottom: 65px; padding: 65px 50px;
      min-height: 410px;
    }
    @media (max-width:900px) { .hero-grid { grid-template-columns: 1fr; padding: 30px 10px; gap:35px; } }
    .hero-left { display: flex; flex-direction: column; gap: 11px; justify-content: center;}
    .main-title { font-size: 2.6rem; font-weight: bold; text-transform: uppercase; letter-spacing: 0.13em; margin-bottom: 0; color: var(--digital-cyan); font-family: 'Arial Black', Arial, sans-serif;}
    .subtitle { color: var(--roland-core); font-size: 1.17rem; margin-bottom: 2px; text-transform: uppercase; letter-spacing: .09em;}
    .description { font-size: 1.05rem; color: var(--white-soft); font-family: inherit; line-height: 1.6; margin-bottom:0; letter-spacing:.02em;}
    .hero-right { display: flex; flex-direction: column; align-items: center; justify-content: center; width:100%; }
    /* VINILO deck */
    .turntable { width: 220px; height: 220px; border-radius: 50%; background: var(--black-absolute); border: 14px solid var(--gray-dark); box-shadow: 0 4px 44px var(--digital-cyan)2a; margin:0 auto 22px auto; display: flex; align-items: center; justify-content: center; position: relative; }
    .vinyl { width: 143px; height: 143px; border-radius: 50%; background: radial-gradient(circle at 52% 54%,#24294c 45%,#0d0e14 100%); animation: vinylSpin 15s linear infinite; animation-play-state: paused; position:relative; }
    @keyframes vinylSpin {0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}
    .vinyl-logo { position: absolute; left: 50%; top: 50%; width: 54px; height: 54px; transform:translate(-50%,-50%); border-radius: 50%; background: var(--white-soft); box-shadow: 0 2px 12px #00000035;}
    .led-dot { width:13px;height:13px;background:var(--digital-cyan);border-radius:50%;position:absolute;left:51.5%;top:7%;z-index:4;box-shadow:0 0 10px var(--digital-cyan);}
    .led-dot.off{background:#232440; box-shadow:none;}
    /* Botonera y EQ */
    .controls-deck { display: flex; gap: 18px; margin:8px auto 2px auto; justify-content: center; align-items: center;}
    .roland-btn { width: 46px; height: 46px; border-radius: 13px; background: var(--gray-dark); display: flex; align-items: center; justify-content: center; font-size: 1.17em; color: var(--digital-cyan); border: 3px solid var(--orange-roland); box-shadow: 0 2px 14px #00faff36,0 1px 2px #23298f44; cursor:pointer; transition: background .14s, color .13s, box-shadow .13s, border-color .16s, transform .12s;}
    .roland-btn:active, .roland-btn:focus { background: #111c24; color: #fffbb3; border-color: var(--digital-cyan);}
    .roland-btn.active { background: var(--orange-roland); color: var(--black-absolute); border-color: var(--digital-cyan);}
    .audio-track-label { font-size:1em; color:var(--digital-cyan); margin-left: 12px; font-family:inherit; letter-spacing:.8px;}
    .eq-bar { margin: 8px auto 14px auto; width: 188px; height: 38px; background: #071521; border-radius: 13px; display: flex; align-items: flex-end; overflow: hidden; gap:3.5px;padding:3px; box-shadow: 0 1.5px 14px #11f8f6a7; border:2.2px solid var(--digital-cyan);}
    .eq-bar-seg { width: 13px; border-radius: 7px 7px 5px 5px; background:var(--digital-cyan); height:10px; transition: height .13s, background .17s;}
    /* Spotify */
    .spotify-frame { border-radius:8px;border:none;width:100%;max-width:330px;min-height:82px;margin:10px auto 0 auto;box-shadow:0 1.5px 9px #00faff33;}
    /* Secciones */
    .section-services { margin:52px 0 28px 0;}
    .services-title { color:var(--digital-cyan); font-size:1.09rem; font-weight:800; letter-spacing:1.1px; text-transform:uppercase; margin-bottom:13px;}
    .services-grid{ display: grid; grid-template-columns: repeat(3,1fr); gap: 30px; width: 100%;}
    .service-card{ background: var(--gray-dark); border:2.2px solid var(--digital-cyan); border-radius:15px; box-shadow:0 3.5px 18px #00fff13b; padding:30px 15px 15px 15px; transition: box-shadow .14s, border-color .15s; display: flex; flex-direction: column; align-items: center; min-width: 0;}
    .service-card:hover{ border-color:var(--glitch-magenta); box-shadow:0 2px 22px #ff009966;}
    .service-header{ display:flex;align-items:center;justify-content:center;gap:14px;margin-bottom:12px;}
    .service-icon{ color: var(--roland-core); font-size:1.9rem; }
    .service-name{ font-size:1.04rem;font-weight:700;color:var(--digital-cyan);text-transform:uppercase;letter-spacing:.62px;}
    .service-desc{ color:var(--white-soft);line-height:1.33;font-size:.98rem; margin-top:2px;text-align:center;}
    @media(max-width:980px){ .services-grid { grid-template-columns: 1fr; } }
    /* Videos */
    .section-2 {margin-bottom: 46px;}
    .video-player-frame { display: flex; justify-content: center; align-items: center; background: var(--gray-dark); border-radius: 13px; border: 2.3px solid var(--digital-cyan); margin: 0 auto 0 auto; box-shadow: 0 4px 17px #00f8ff11; max-width: 960px; overflow: hidden; min-height: 190px;}
    .video-title{ color: var(--glitch-magenta); text-align:center; font-size: 1.1rem; margin:13px 0 11px 0;}
    .miniaturenav{ display:flex;justify-content:center;margin-top:2px;}
    .video-thumbs{ display:flex; gap:14px; margin:0 auto 8px auto; flex-wrap:wrap;justify-content:center;}
    .video-thumb{ width:47px;height:32px;border-radius:6px;border:2.2px solid var(--digital-cyan);overflow:hidden;cursor:pointer;transition:border-color .13s,box-shadow .12s;opacity:.8;}
    .video-thumb.active{ border-color:var(--roland-core); opacity:1; box-shadow:0 1.5px 9px #ff3a79b0;}
    .video-thumb img{ width:100%;height:100%;object-fit:cover;display:block;}
    .video-dots{ display:flex;gap:7px;align-items:center;justify-content:center;margin-bottom:3px;}
    .video-dot{width:13px;height:13px;border-radius:50%;background:var(--gray-dark);border:2px solid var(--digital-cyan);cursor:pointer;transition:background .13s,border-color .13s;}
    .video-dot.active{ background:var(--glitch-magenta); border-color:var(--roland-core);}
    /* Contacto */
    .section-3{ margin-top:23px;background:var(--contact-bg);border-radius:11px;padding:24px 0 20px 0;}
    .contact-grid{ display:grid; grid-template-columns:repeat(3,1fr); gap:21px; max-width:1060px; margin:0 auto;}
    .contact-port{ padding:20px; background: var(--gray-dark); border:1.6px solid var(--digital-cyan); border-radius:7px; text-align:center; text-decoration:none; color:var(--digital-cyan); transition:all 0.18s; text-transform:uppercase; font-family:inherit; font-weight:600; font-size:1em; letter-spacing:.8px;}
    .contact-port:hover{ border-color:var(--glitch-magenta); background: #191a39;}
    .port-primary{ background: var(--roland-core); border-color: var(--roland-core); color:#fff;}
    .port-primary:hover{ background: transparent; color:var(--roland-core);}
    .footer{ margin-top:16px;text-align:center;color:#aaa9bb;font-size:1em;letter-spacing:.75px;}
    .whatsapp-float{ position:fixed;bottom:20px;right:20px;background:var(--digital-cyan);color:var(--black-absolute);width:60px;height:60px;border-radius:50%;display:flex;align-items:center;justify-content:center;text-decoration:none;box-shadow:0 4px 20px #00faff26;z-index:1000;}
    @media(max-width: 1200px){.container{padding-left:1vw;padding-right:1vw;} .hero-grid{padding:35px 2vw;}}
    @media(max-width: 700px){ .hero-grid{padding:14px 0;}.services-grid,.contact-grid{grid-template-columns:1fr;}}
  </style>
</head>
<body>
  <div class="container">
    <!-- Topbar switches -->
    <div class="top-bar">
      <div class="toggle-switch" id="themeSwitch" title="Tema oscuro / claro">
        <div class="toggle-slider"><i class="fas fa-moon"></i></div>
        <span class="toggle-label" id="themeLabel">Oscuro</span>
      </div>
      <div class="toggle-switch" id="langSwitch" title="Idioma">
        <div class="toggle-slider"><i class="fas fa-language"></i></div>
        <span class="toggle-label" id="langLabel">ES</span>
      </div>
    </div>

    <!-- HERO -->
    <section class="hero-grid">
      <div class="hero-left">
        <h1 class="main-title">EDUARDO MEJÍA // SISTEMA NERVIOSO MUSICAL</h1>
        <div class="subtitle">VOLTAJE → STREAM → ALGORITMO</div>
        <div class="description">
          Siente la calidez del groove. Dale play.<br>
          Booking, creatividad y arquitectura sónica fusionadas.<br>
          <span style="color:var(--orange-roland);font-weight:bold;">Esto es más que música, es espacio, emoción y memoria eléctrica.</span>
        </div>
      </div>
      <div class="hero-right">
        <div class="turntable" id="turntable">
          <div class="vinyl" id="vinyl">
            <img src="logo.svg" alt="logo" class="vinyl-logo">
            <div class="led-dot off" id="ledDot"></div>
          </div>
        </div>
        <div class="controls-deck">
          <button class="roland-btn" id="backSong" aria-label="Anterior"><i class="fas fa-backward"></i></button>
          <button class="roland-btn" id="playBtn" aria-label="Play"><i class="fas fa-play"></i></button>
          <button class="roland-btn" id="stopBtn" aria-label="Stop"><i class="fas fa-stop"></i></button>
          <button class="roland-btn" id="nextSong" aria-label="Siguiente"><i class="fas fa-forward"></i></button>
          <span class="audio-track-label" id="audioTrackLabel">track 1/5</span>
        </div>
        <div class="eq-bar" id="eqBar">
          <div class="eq-bar-seg"></div><div class="eq-bar-seg"></div><div class="eq-bar-seg"></div>
          <div class="eq-bar-seg"></div><div class="eq-bar-seg"></div><div class="eq-bar-seg"></div>
          <div class="eq-bar-seg"></div><div class="eq-bar-seg"></div><div class="eq-bar-seg"></div><div class="eq-bar-seg"></div>
        </div>
        <iframe class="spotify-frame" id="spotifyFrame" src="https://open.spotify.com/embed/playlist/26qaG2E3bW6ZNIk5mvPpjr?utm_source=generator" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" height="84"></iframe>
      </div>
    </section>

    <section class="section-services">
      <div class="services-title">Servicios</div>
      <div class="services-grid">
        <div class="service-card">
          <div class="service-header">
            <span class="service-icon"><i class="fas fa-route"></i></span>
            <span class="service-name">BOOKING & TOURS</span>
          </div>
          <p class="service-desc">
            Circuitos de performance y gestión neuronal de giras internacionales.
          </p>
        </div>
        <div class="service-card">
          <div class="service-header">
            <span class="service-icon"><i class="fas fa-network-wired"></i></span>
            <span class="service-name">DIGITAL FLOW</span>
          </div>
          <p class="service-desc">
            Estrategias multiplataforma y desarrollo de ecosistemas digitales.
          </p>
        </div>
        <div class="service-card">
          <div class="service-header">
            <span class="service-icon"><i class="fas fa-wave-square"></i></span>
            <span class="service-name">SYNTH STRATEGY</span>
          </div>
          <p class="service-desc">
            Arquitectura de sonido y frameworks estratégicos para artistas.
          </p>
        </div>
      </div>
    </section>

    <section class="section-2">
      <div class="video-player-frame">
        <iframe id="singleVideo" width="100%" height="360" src="https://www.youtube.com/embed/ZGxSXchZNfo?modestbranding=1&rel=0" frameborder="0" allowfullscreen></iframe>
      </div>
      <div id="videoTitle" class="video-title"></div>
      <div class="miniaturenav">
        <div id="videoThumbs" class="video-thumbs"></div>
      </div>
      <div id="videoDots" class="video-dots"></div>
    </section>

    <section class="section-3">
      <div class="contact-grid">
        <a href="mailto:emc121091@me.com?subject=PROYECTO MUSICAL" class="contact-port port-primary">INICIAR PROYECTO</a>
        <a href="https://edumecar.github.io/Book/" target="_blank" class="contact-port">PLANES BOOKING</a>
        <a href="https://www.linkedin.com/in/edumecar" target="_blank" class="contact-port">LINKEDIN</a>
      </div>
    </section>
    <div class="footer">
      Portfolio de Eduardo Mejía – Booking, groove, data, club, futuro synth.
    </div>
  </div>
  <a href="https://wa.me/525512478139?text=Hi,%20I%20saw%20your%20portfolio%20and%20would%20like%20to%20discuss%20a%20music%20project." class="whatsapp-float" target="_blank">
    <i class="fab fa-whatsapp" style="font-size: 1.7rem;"></i>
  </a>
  <audio id="localAudio">
    <source id="audioSource" src="micancion.mp3" type="audio/mpeg">
    Tu navegador no soporta el elemento audio.
  </audio>
  <script>
    // DARK/LIGHT SWITCH
    const themeSwitch = document.getElementById('themeSwitch');
    let darkTheme = true;
    themeSwitch.onclick = () => {
      darkTheme = !darkTheme;
      document.body.classList.toggle('light-theme', !darkTheme);
      themeSwitch.classList.toggle('on', !darkTheme);
      themeSwitch.querySelector('.toggle-slider i').className = darkTheme ? 'fas fa-moon' : 'fas fa-sun';
      document.getElementById('themeLabel').textContent = darkTheme ? 'Oscuro' : 'Claro';
    };
    // ES/EN SWITCH MAQUETA
    const langSwitch = document.getElementById('langSwitch');
    langSwitch.onclick = () => {
      langSwitch.classList.toggle('on');
      document.getElementById('langLabel').textContent = langSwitch.classList.contains('on') ? 'EN' : 'ES';
    };
    // ----------- VINYL & AUDIO -------------
    let currentTrack = 1, totalTracks = 5;
    const audio = document.getElementById('localAudio');
    const audioSource = document.getElementById('audioSource');
    const playBtn = document.getElementById('playBtn');
    const stopBtn = document.getElementById('stopBtn');
    const backSong = document.getElementById('backSong');
    const nextSong = document.getElementById('nextSong');
    const vinyl = document.getElementById('vinyl');
    const turntable = document.getElementById('turntable');
    const led = document.getElementById('ledDot');
    const audioTrackLabel = document.getElementById('audioTrackLabel');
    function updateTrackLabel() {
      audioTrackLabel.textContent = `track ${currentTrack}/5`;
    }
    function setTrack(num) {
      if(num<1) num = totalTracks;
      if(num>totalTracks) num = 1;
      currentTrack = num;
      audio.pause(); audio.currentTime=0;
      vinyl.style.animationPlayState='paused';
      led.classList.add('off');
      playBtn.classList.remove("active");
      audioSource.src = `micancion${currentTrack===1?"":currentTrack}.mp3`;
      audio.load();
      updateTrackLabel();
    }
    backSong.onclick = ()=>{ setTrack(currentTrack-1);}
    nextSong.onclick = ()=>{ setTrack(currentTrack+1);}
    setTrack(1);
    // EQ BAR ANIMATION
    let eqLoop = null; let audioCtx, analyser, src, dataArray;
    const eqBarSeg = document.querySelectorAll('.eq-bar-seg');
    function setupEQ(){
      audioCtx = new (window.AudioContext||window.webkitAudioContext)();
      src = audioCtx.createMediaElementSource(audio);
      analyser = audioCtx.createAnalyser();
      src.connect(analyser); analyser.connect(audioCtx.destination);
      analyser.fftSize = 64;
      dataArray = new Uint8Array(analyser.frequencyBinCount);
    }
    function animateEQ(){
      analyser.getByteFrequencyData(dataArray);
      for(let i=0;i<eqBarSeg.length;i++){
        let val = (dataArray[i]||4)/2.15+8;
        eqBarSeg[i].style.height = val+"px";
        eqBarSeg[i].style.background = `linear-gradient(180deg, var(--digital-cyan) 85%, var(--orange-roland) 100%)`;
        eqBarSeg[i].style.opacity = 0.84+0.13*Math.random();
      }
      eqLoop = requestAnimationFrame(animateEQ);
    }
    playBtn.onclick = ()=>{
      if(!audioCtx){ setupEQ(); }
      audio.play();
      vinyl.style.animationPlayState='running';
      led.classList.remove('off');
      playBtn.classList.add("active");
      animateEQ();
    };
    stopBtn.onclick = ()=>{
      audio.pause(); audio.currentTime=0;
      vinyl.style.animationPlayState='paused';
      led.classList.add('off');
      playBtn.classList.remove("active");
      if(eqLoop) cancelAnimationFrame(eqLoop);
      eqBarSeg.forEach(el => el.style.height='10px');
    };
    // -------- VIDEOS (no se tocan) --------
    const videos = [
      {id: "ZGxSXchZNfo", title: "Boiler Room 1"},
      {id: "SD3T_Or_mvk", title: "Tra Tra Live"},
      {id: "XCW95zjBUK4", title: "Gats Set"},
      {id: "fIbo4pFaNgQ", title: "Detroit Flow"},
      {id: "K6ACbb5p2A0", title: "Roland Jam"},
      {id: "2Vv-BfVoq4g", title: "Punk Session"},
      {id: "oHg5SJYRHA0", title: "Vinyl Routine"},
      {id: "kXYiU_JCYtU", title: "Engl Synth"}
    ];
    let vidIndex = 0;
    const singleVideo = document.getElementById('singleVideo');
    const videoTitle = document.getElementById('videoTitle');
    const thumbsContainer = document.getElementById('videoThumbs');
    const dotsContainer = document.getElementById('videoDots');
    function renderThumbs() {
      thumbsContainer.innerHTML = '';
      videos.forEach((v,i) => {
        const thumb = document.createElement('div');
        thumb.className = 'video-thumb' + (i===vidIndex ? ' active':''); thumb.title = v.title;
        thumb.innerHTML = `<img src="https://img.youtube.com/vi/${v.id}/hqdefault.jpg" alt="">`;
        thumb.onclick = ()=>{ vidIndex = i; updateVideo(); };
        thumbsContainer.appendChild(thumb);
      });
    }
    function renderDots() {
      dotsContainer.innerHTML = '';
      videos.forEach((v,i)=>{
        const dot = document.createElement('div');
        dot.className = 'video-dot' + (i===vidIndex ? ' active':''); dot.title = v.title;
        dot.onclick = ()=>{ vidIndex=i; updateVideo(); };
        dotsContainer.appendChild(dot);
      });
    }
    function updateVideo() {
      singleVideo.src = `https://www.youtube.com/embed/${videos[vidIndex].id}?modestbranding=1&rel=0&autoplay=1`;
      videoTitle.textContent = videos[vidIndex].title;
      renderThumbs(); renderDots();
    }
    renderThumbs(); renderDots(); updateVideo();
  </script>
</body>
</html>
